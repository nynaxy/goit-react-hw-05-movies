import{r as c,u,j as s}from"./index-0sw0aZkz.js";import{s as h}from"./api-1RXTLITJ.js";import{M as m}from"./MovieList-DDKavlPH.js";const v=()=>{const[a,o]=c.useState([]),[i]=u(),r=i.get("query");c.useEffect(()=>{r&&h(r).then(e=>{console.log("Searched movies:",e),e&&e.results&&o(e.results)}).catch(e=>{console.error("Error searching movies:",e)})},[r]);const n=e=>{e.preventDefault();const t=e.target.query.value;t&&(i.set("query",t),window.history.pushState({},"",`?query=${t}`),o([]))};return s.jsxs("div",{children:[s.jsx("h1",{children:"Search Movies"}),s.jsxs("form",{onSubmit:n,children:[s.jsx("input",{type:"text",name:"query"}),s.jsx("button",{type:"submit",children:"Search"})]}),s.jsx(m,{movies:a})]})};export{v as default};
